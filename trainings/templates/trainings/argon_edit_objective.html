{% extends "trainings/base.html" %}
{% block title %}√âditer un objectif ‚Äî ArgonOS{% endblock %}
{% block body_class %}no-scroll{% endblock %}

{% block content %}
<div style="
  position: fixed;
  top: 90px;
  left: 0; right: 0; bottom: 0;
  padding: 18px;
  box-sizing: border-box;
  overflow:auto;
  color: rgba(255,255,255,0.92);
  background:
    radial-gradient(1200px 600px at 18% -10%, rgba(21,96,130,0.25), transparent 55%),
    radial-gradient(1000px 600px at 86% 10%, rgba(255,137,233,0.14), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00)),
    #0B0F14;
">
  <div style="max-width: 980px; margin: 0 auto;">
    <div style="
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
      border: 1px solid rgba(255,255,255,0.07);
      box-shadow: 0 18px 45px rgba(0,0,0,0.55);
      padding: 16px;
    ">
      <div style="display:flex; justify-content:space-between; gap:12px; flex-wrap:wrap; align-items:center;">
        <div>
          <div style="font-weight:950; font-size:16px;">‚úèÔ∏è √âditer un objectif</div>
          <div style="opacity:.7; font-size:12px; margin-top:6px;">
            Formateur : <b>{{ o.trainer.first_name }} {{ o.trainer.last_name }}</b>
          </div>
        </div>

        <a href="{% url 'trainings:team_argonos' %}?trainer={{ o.trainer_id }}&tab=1to1"
           style="text-decoration:none; border:1px solid rgba(255,255,255,0.12); background: rgba(255,255,255,0.06);
                  color: rgba(255,255,255,0.92); padding: 10px 14px; border-radius: 999px; font-weight: 950; font-size: 12px;">
          ‚Üê Retour
        </a>
      </div>

      <form method="post" style="margin-top:14px;">
        {% csrf_token %}

        <div style="display:flex; gap:10px; flex-wrap:wrap; align-items:flex-end;">
          <div style="flex:2; min-width:240px;">
            <div style="opacity:.7; font-size:12px; margin-bottom:6px;">Titre *</div>
            <input name="title" required value="{{ o.title }}"
                  style="width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);
                        background: rgba(255,255,255,0.06); color: white; outline:none;">
          </div>

          <div style="flex:1; min-width:200px;">
            <div style="opacity:.7; font-size:12px; margin-bottom:6px;">Cat√©gorie</div>
            <select name="category"
                    style="width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);
                          background: rgba(255,255,255,0.06); color: white; outline:none;">
              {% for val, label in category_choices %}
                <option value="{{ val }}" {% if o.category == val %}selected{% endif %}>{{ label }}</option>
              {% endfor %}
            </select>
          </div>

          <div style="flex:1; min-width:180px;">
            <div style="opacity:.7; font-size:12px; margin-bottom:6px;">√âch√©ance</div>
            <input type="date" name="due_date" value="{{ o.due_date|date:'Y-m-d' }}"
                  style="width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);
                        background: rgba(255,255,255,0.06); color: white; outline:none;">
          </div>
        </div>

        <div style="display:flex; gap:10px; align-items:center; margin-top:12px; flex-wrap:wrap;">
          <label style="display:inline-flex; align-items:center; gap:8px; padding: 6px 10px; border-radius:999px;
                        border:1px solid rgba(255,255,255,0.10); background: rgba(255,255,255,0.05);
                        font-weight:950; font-size:12px; cursor:pointer;">
            <input type="checkbox" name="actionable" {% if o.actionable %}checked{% endif %}>
            üß© Kanban
          </label>

          <button type="submit"
                  style="border:1px solid rgba(124,58,237,0.50); background: rgba(124,58,237,0.18);
                        color: rgba(255,255,255,0.92); padding: 10px 14px; border-radius:999px;
                        font-weight:950; font-size:12px; cursor:pointer;">
            üíæ Enregistrer
          </button>
        </div>

        <div style="margin-top:12px;">
          <div style="opacity:.7; font-size:12px; margin-bottom:6px;">D√©tails (optionnel)</div>
          <textarea name="description" rows="4"
                    style="width:100%; padding:10px 12px; border-radius:12px; border:1px solid rgba(255,255,255,0.12);
                          background: rgba(255,255,255,0.06); color: white; outline:none;">{{ o.description }}</textarea>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}